<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapitre 2 ContrÃ´le de version avec git et GitHub: historique de changement, dÃ©veloppement collaboratif et intÃ©gration continue | Formation  avancÃ©e</title>
<meta name="author" content="Robin Genuer ğŸŒ &amp; Boris Hejblum ğŸŒ">
<meta name="description" content="Nous nous intÃ©ressons ici aux solutions proposÃ©es par RStudio et GitHub pour le contrÃ´le de version de projets, lâ€™hÃ©bergement de vos projets et lâ€™automatisation dâ€™un certain nombre de...">
<meta name="generator" content="bookdown 0.35 with bs4_book()">
<meta property="og:title" content="Chapitre 2 ContrÃ´le de version avec git et GitHub: historique de changement, dÃ©veloppement collaboratif et intÃ©gration continue | Formation  avancÃ©e">
<meta property="og:type" content="book">
<meta property="og:description" content="Nous nous intÃ©ressons ici aux solutions proposÃ©es par RStudio et GitHub pour le contrÃ´le de version de projets, lâ€™hÃ©bergement de vos projets et lâ€™automatisation dâ€™un certain nombre de...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapitre 2 ContrÃ´le de version avec git et GitHub: historique de changement, dÃ©veloppement collaboratif et intÃ©gration continue | Formation  avancÃ©e">
<meta name="twitter:description" content="Nous nous intÃ©ressons ici aux solutions proposÃ©es par RStudio et GitHub pour le contrÃ´le de version de projets, lâ€™hÃ©bergement de vos projets et lâ€™automatisation dâ€™un certain nombre de...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="libs/d3-3.5.6/d3.min.js"></script><link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet">
<script src="libs/profvis-0.3.6.9000/profvis.js"></script><script src="libs/profvis-0.3.6.9000/scroll.js"></script><link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet">
<script src="libs/highlight-6.2.0/highlight.js"></script><script src="libs/profvis-binding-0.3.8/profvis.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="&lt;em&gt;Outils de dÃ©veloppement et de performance&lt;/em&gt;">Formation <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> avancÃ©e</a>:
        <small class="text-muted"><em>Outils de dÃ©veloppement et de performance</em></small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">PrÃ©sentation de la formation</a></li>
<li><a class="" href="construire-un-package.html"><span class="header-section-number">1</span> Construire un package </a></li>
<li><a class="active" href="contr%C3%B4le-de-version-avec-git-et-github-historique-de-changement-d%C3%A9veloppement-collaboratif-et-int%C3%A9gration-continue.html"><span class="header-section-number">2</span> ContrÃ´le de version avec git et GitHub: historique de changement, dÃ©veloppement collaboratif et intÃ©gration continue</a></li>
<li><a class="" href="mesurer-et-comparer-des-temps-dex%C3%A9cution.html"><span class="header-section-number">3</span> Mesurer et comparer des temps dâ€™exÃ©cution</a></li>
<li><a class="" href="profiler-son-code.html"><span class="header-section-number">4</span> Profiler son code</a></li>
<li><a class="" href="rcpp-ou-comment-int%C3%A9grer-facilement-du-code-cdans-un-package.html"><span class="header-section-number">5</span> Rcpp ou comment intÃ©grer facilement du code C++dans un package </a></li>
<li><a class="" href="parall%C3%A9lisation-du-code-r.html"><span class="header-section-number">6</span> ParallÃ©lisation du code R</a></li>
<li><a class="" href="take-home-message.html"><span class="header-section-number">7</span> Take Home message</a></li>
<li><a class="" href="r%C3%A9f%C3%A9rences.html">RÃ©fÃ©rences</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="contrÃ´le-de-version-avec-git-et-github-historique-de-changement-dÃ©veloppement-collaboratif-et-intÃ©gration-continue" class="section level1" number="2">
<h1>
<span class="header-section-number">Chapitre 2</span> ContrÃ´le de version avec <code>git</code> et <em>GitHub</em>: historique de changement, dÃ©veloppement collaboratif et intÃ©gration continue<a class="anchor" aria-label="anchor" href="#contr%C3%B4le-de-version-avec-git-et-github-historique-de-changement-d%C3%A9veloppement-collaboratif-et-int%C3%A9gration-continue"><i class="fas fa-link"></i></a>
</h1>
<p>Nous nous intÃ©ressons ici aux solutions proposÃ©es par <em>RStudio</em> et <em>GitHub</em> pour le contrÃ´le de version de projets, lâ€™hÃ©bergement de vos projets et lâ€™automatisation dâ€™un certain nombre de vÃ©rifications garantissant un partage facile de votre code.</p>
<div id="principe-du-contrÃ´le-de-version" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Principe du contrÃ´le de version<a class="anchor" aria-label="anchor" href="#principe-du-contr%C3%B4le-de-version"><i class="fas fa-link"></i></a>
</h2>
<p>Le principe du contrÃ´le de version est dâ€™enregistrer les changements successifs apportÃ©s Ã  des fichiers (notamment des fichiers <code>.R</code>).</p>
<p><em>RStudio</em> propose 2 solutions intÃ©grÃ©es pour le contrÃ´le de version :</p>
<ul>
<li><p><code>git</code></p></li>
<li><p><code>svn</code> (â€œsubversionâ€)</p></li>
</ul>
<div id="git" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> <code>git</code><a class="anchor" aria-label="anchor" href="#git"><i class="fas fa-link"></i></a>
</h3>
<p><code>git</code> est un logiciel de contrÃ´le de version (câ€™est-Ã -dire un outils qui va
enregistrer lâ€™histoire des changements successifs de votre code et permettre de
partager ces changements avec dâ€™autres personnes). <code>git</code> est un logiciel en
ligne de commande, et sa prise en main nâ€™est pas nÃ©cessairement intuitive.</p>
<p><code>git</code> fonctionne de la faÃ§on suivante : sur un serveur distant (par exemple dans le <em>cloud</em>), une version <strong>Ã  jour</strong> du code est disponible. Ã€ tout moment il est possible dâ€™accÃ©der Ã  cette version du code en ligne. Chaque contributeur peut tÃ©lÃ©charger cette derniÃ¨re version <strong>Ã  jour</strong> (dans une action que lâ€™on dÃ©nomme <em>pull</em>), avant de lâ€™Ã©diter localement. Une fois ses changements effectuÃ©s, le contributeur peut alors mettre Ã  jour la version en ligne du code afin que ses changements soient disponibles pour tout le monde (dans une action que lâ€™on dÃ©nomme <em>push</em>)</p>
<p><strong>NB</strong> : <code>git</code> a Ã©tÃ© pensÃ© pour des fichiers lÃ©gers (comme par exemple des
fichiers texte) et est loin dâ€™Ãªtre optimisÃ© pour des fichiers trop lourds et/oÃ¹ compressÃ©s.</p>
<div class="float">
<img src="FormationRavancee_dev_perf_files/git_workflow.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
</div>
<div id="subversion" class="section level3" number="2.1.2">
<h3>
<span class="header-section-number">2.1.2</span> <code>subversion</code><a class="anchor" aria-label="anchor" href="#subversion"><i class="fas fa-link"></i></a>
</h3>
<p><code>subversion</code> est lâ€™autre solution disponible dans <em>RStudio</em>. Elle fonctionne de maniÃ¨re similaire Ã  git, mais avec des fonctionnalitÃ©s un peu plus rÃ©duites
que nous dÃ©taillons pas ici (la diffÃ©rence majeure est que tout les contributeurs travaillent simultanÃ©ment sur la mÃªme version du code).</p>
</div>
</div>
<div id="utiliser-git-localement-depuis-rstudio" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Utiliser <code>git</code> localement depuis <em>RStudio</em><a class="anchor" aria-label="anchor" href="#utiliser-git-localement-depuis-rstudio"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Commencer par activer <code>git</code> depuis lâ€™onglet â€œGit/SVNâ€ de â€œProject Optionsâ€
situÃ© dans le menu â€œToolsâ€ et suivre les instructions. Vous pouvez <del>aussi</del>plutÃ´t utiliser <code><a href="https://usethis.r-lib.org/reference/use_git.html">usethis::use_git()</a></code></p></li>
<li><p>Ã€ partir de lâ€™onglet â€œGitâ€ maintenant apparu Ã  cÃ´tÃ© de lâ€™onglet â€œBuildâ€,
enregistrer lâ€™Ã©tat actuel de votre package en rÃ©alisant votre premier â€œcommitâ€ :</p></li>
</ol>
<ul>
<li><p>2a. sÃ©lectionner les fichiers Ã  suivre (ne pas sÃ©lectionner le fichier .Rproj)</p></li>
<li><p>2b. Ã©crire un message informatif (pour vos collaborateurs - ce qui inclut votre futur vous)</p></li>
<li><p>2c. cliquer sur â€œCommitâ€</p></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li><p>Ajouter une ligne â€œ*.Rprojâ€ au fichier â€œ.gitignoreâ€ et effectuez un nouveau commit</p></li>
<li><p>Visualiser les changements et leur historique Ã  lâ€™aide des outils de visualisation
â€œDiffâ€ et â€œHistoryâ€ accessible depuis lâ€™onglet â€œGitâ€</p></li>
</ol>
</blockquote>
<div class="float">
<img src="FormationRavancee_dev_perf_files/github_fall.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
<div id="bonnes-pratiques-du-commit" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> Bonnes pratiques du <em>commit</em><a class="anchor" aria-label="anchor" href="#bonnes-pratiques-du-commit"><i class="fas fa-link"></i></a>
</h3>
<p>IdÃ©alement, chaque commit ne devrait rÃ©gler quâ€™un seul problÃ¨me. Il devrait le rÃ©gler dans son intÃ©gralitÃ© (Ãªtre <strong>complet</strong>) et ne contenir des changements relatifs quâ€™uniquement Ã  ce problÃ¨me (Ãªtre <strong>minimal</strong>). Il est alors important dâ€™Ã©crire des messages de commit <strong>informatifs</strong> (pensez Ã  vos collaborateur, qui incluent votre <strong>futur vous</strong>). Il faut Ã©galement Ãªtre concis, et dÃ©crire les raisons des changements plutÃ´t que
les changements eux-mÃªmes (visibles dans le <em>Diff</em>).<br><strong>NB :</strong> Il est parfois difficile de respecter ces directives Ã  la lettre, et celles-ci ne sont quâ€™un guide et ne doivent pas vous empÃªcher dâ€™effectuer des <em>commits</em> rÃ©guliers.</p>
<p>Par ailleurs, la tentation dâ€™avoir un historique de changements â€œpropreâ€ et bien ordonnÃ© est naturelle, mais se rÃ©vÃ¨le une source de problÃ¨mes inutiles. Elle entre en contradiction avec lâ€™objectif de traÃ§abilitÃ© du contrÃ´le de version. Le dÃ©veloppement de code Ã©tant gÃ©nÃ©ralement un processus intellectuel complexe et non linÃ©aire, il est normal que lâ€™enregistrement des changements reflÃ¨te ce cheminement. En pratique, votre futur-vous sera le premier utilisateur de votre historique de changements et la prioritÃ© est donc de vous faciliter la tache dans le futur lors de la rÃ©solution de bug oÃ¹ lâ€™extension de fonctionnalitÃ©s.</p>
<div class="float">
<img src="FormationRavancee_dev_perf_files/github_wickham_bryan_git_quote.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
</div>
</div>
<div id="github" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> <em>GitHub</em><a class="anchor" aria-label="anchor" href="#github"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://github.com/"><em>GitHub</em></a> est un site internet proposant une solution
dâ€™hÃ©bergement de code en ligne, et sâ€™appuyant sur <code>git</code>. Il existe de nombreux
sites web et services (<a href="https://about.gitlab.com/"><em>GitLab</em></a>, <a href="https://bitbucket.org/"><em>Bitbucket</em></a>, â€¦) permettant dâ€™hÃ©berger du code et
sâ€™appuyant sur <code>git</code>. <em>GitHub</em> est trÃ¨s populaire dans la communautÃ© des
dÃ©veloppeurs <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg>, et est relativement facile Ã  utiliser, mÃªme pour un
utilisateur novice.</p>
<p>Les <strong>avantages</strong> dâ€™utiliser <em>GitHub</em> sont :</p>
<ul>
<li><p>une interface graphique simple pour suivre lâ€™historique des changements de votre code</p></li>
<li><p>la derniÃ¨re version de dÃ©veloppement de votre code est disponible en ligne et vous pouvez la
rÃ©fÃ©rencer (on peut mÃªme rÃ©fÃ©rencer un numÃ©ro de commit prÃ©cis pour geler une version spÃ©cifique
du code)</p></li>
<li><p>les utilisateurs disposent dâ€™un canal clair et transparent pour signaler les bugs/difficultÃ©s</p></li>
<li><p>cela facilite grandement le dÃ©veloppement collaboratif</p></li>
</ul>
<div id="mettre-son-package-sur-github" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Mettre son package <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> sur <em>GitHub</em><a class="anchor" aria-label="anchor" href="#mettre-son-package-sur-github"><i class="fas fa-link"></i></a>
</h3>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li>Sur le site <a href="https://github.com/">https://github.com/</a>, se crÃ©er un compte <em>GitHub</em> (si vous hÃ©sitez, une convention courante est dâ€™utiliser <em>prÃ©nomnom</em> comme nom dâ€™utilisateur)</li>
<li>Vous pouvez ensuite executer <code><a href="https://usethis.r-lib.org/reference/use_github.html">usethis::use_github()</a></code> dans la console <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> et vous laisser guider.</li>
<li>Ajouter un fichier â€œREADME.Rmdâ€ Ã  votre package afin de disposer dâ€™une belle page
dâ€™accueil sur <em>GitHub</em> :
<ul>
<li>3a. dans <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg>, executez la commande <code><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">usethis::use_readme_rmd()</a></code>
</li>
<li>3b. Ã  lâ€™aide de lâ€™outils â€œ<em>Diff</em>â€ de lâ€™onglet â€œ<em>Git</em>â€ de <em>RStudio</em>, Ã©tudier les changements opÃ©rÃ©s par la commande prÃ©cÃ©dente</li>
<li>3c. Ã©ditez le fichier â€œ<em>README.Rmd</em>â€ crÃ©Ã©, puis crÃ©er le fichier <em>README.md</em> correspondant en executant <code>knitr</code> (cliquer su la pelotte de laine â€œKnitâ€ en haut Ã  gauche dans Rstudio), avant dâ€™effectuer un 3<sup>e</sup> commit contenant ces changements</li>
<li>3d. Ã  ce stade, si vous visitez la page de votre rÃ©pertoire sur <em>GitHub</em>,
votre 3<sup>e</sup> commit nâ€™apparait pour lâ€™instant pas. Il faut synchroniser
le rÃ©pertoire <em>GitHub</em> en ligne avec votre dossier local. Pour cela, directement depuis <em>RStudio</em>, cliquer sur â€œPushâ€ depuis lâ€™onglet â€œGitâ€. Maintenant, les changements du 3<sup>e</sup> commit sont visibles en ligne sur <em>GitHub.</em>
</li>
</ul>
</li>
</ol>
</blockquote>
</div>
</div>
<div id="collaboration-pour-la-production-du-code" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Collaboration pour la production du code<a class="anchor" aria-label="anchor" href="#collaboration-pour-la-production-du-code"><i class="fas fa-link"></i></a>
</h2>
<div class="float">
<img src="FormationRavancee_dev_perf_files/github_friends.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
<p><code>git</code> et <em>GitHub</em> sont particuliÃ¨rement efficaces lorsque plusieurs personnes collaborent pour dÃ©velopper un code. En effet, chacun peut effectuer des <em>pull</em> et <em>push</em> successifs pour apporter des changements au code, de maniÃ¨re simultanÃ©e et en Ã©tant sÃ»r de toujours travailler sur la derniÃ¨re version. Nous allons voir diffÃ©rents concepts utiles dans le cas dâ€™un tel travail
collaboratif.</p>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>En formant des groupes de 2, vous allez chacun ajouter votre binome comme â€œcollaboratorâ€ Ã  votre repertoire <em>GitHub</em> Ã  partir de lâ€™onglet â€œSettingsâ€ (sur <em>GitHub</em>).</p></li>
<li><p>Quelques instants plus tard le collaborateur ainsi ajoutÃ© reÃ§oit un email lâ€™invitant Ã  accepter lâ€™ajout. Cliquer sur le lien et accepter.</p></li>
<li><p>Dans <em>RStudio</em>, crÃ©er un nouveau projet â€œ<em>Version control</em>â€ Ã  partir de lâ€™url <code>https</code> du rÃ©pertoire de votre binÃ´me sur <em>GitHub</em>.</p></li>
</ol>
</blockquote>
<div id="branches" class="section level3" number="2.4.1">
<h3>
<span class="header-section-number">2.4.1</span> <em>Branches</em><a class="anchor" aria-label="anchor" href="#branches"><i class="fas fa-link"></i></a>
</h3>
<p>Une des fonctionnalitÃ©s assez utile de <code>git</code> est les <em>branches</em>. Cela permet dâ€™opÃ©rer des changements importants dans le code sans perturber le fonctionnement actuel. Câ€™est notamment utile pour explorer une piste de dÃ©veloppement dont on ne sait pas si elle sera concluante au final.</p>
<p>Dâ€™ailleurs, vous utilisez dÃ©jÃ  les branches depuis le depuis de cette partie. En effet, la branche par dÃ©faut est appelÃ© â€œ<em>main</em>â€ (ou parfois â€œ<em>master</em>â€).</p>
<p>GrÃ¢ce Ã  ce systÃ¨me de branches, on obtient un arbre des diffÃ©rents <em>commits</em> au cours du temps (oÃ¹ les nÅ“uds correspondent Ã  la sÃ©parations des branches).</p>
</div>
<div id="merge" class="section level3" number="2.4.2">
<h3>
<span class="header-section-number">2.4.2</span> <em>Merge</em><a class="anchor" aria-label="anchor" href="#merge"><i class="fas fa-link"></i></a>
</h3>
<p>Un <em>pull</em> se dÃ©compose en 2 actions de la part de <code>git</code> :</p>
<ol style="list-style-type: decimal">
<li><p>tout dâ€™abord un <em>fetch</em>, qui correspond au tÃ©lÃ©chargement du code en ligne</p></li>
<li><p>suivi dâ€™un <em>merge</em> qui fusionne la version locale avec les changements.</p></li>
</ol>
<p>AprÃ¨s avoir conduit un dÃ©veloppement expÃ©rimental dans une branche, on peut vouloir <em>merger</em> ces
changements dans la branche â€œmasterâ€ par exemple, aprÃ¨s que lâ€™expÃ©rience se soit rÃ©vÃ©lÃ©e
concluante.</p>
<p>Si un les changements concernent des parties distinctes du code, alors le <em>merge</em> peut
sâ€™effectuer sans problÃ¨me. En revanche si les 2 versions Ã  <em>merger</em> comportent des changements
depuis leur dernier <em>commit</em> commun qui concerne les mÃªmes lignes de codes, alors on va rencontrer
un (ou des ) conflit(s), quâ€™il va falloir rÃ©soudre.</p>
</div>
<div id="les-conflits" class="section level3" number="2.4.3">
<h3>
<span class="header-section-number">2.4.3</span> Les conflits<a class="anchor" aria-label="anchor" href="#les-conflits"><i class="fas fa-link"></i></a>
</h3>
<p>Prenons lâ€™exemple suivant : le dÃ©veloppeur <span class="math inline">\(D_1\)</span> et le dÃ©veloppeur <span class="math inline">\(D_2\)</span> on tous les 2 <em>pullÃ©</em> la version v0.1 du code Ã  lâ€™instant <span class="math inline">\(t\)</span> sur leur machine respective. Ils travaillent chacun indÃ©pendamment pour apporter des changements au code. Au moment de <em>pusher</em> ses changements, le dÃ©veloppeur <span class="math inline">\(D_2\)</span> reÃ§oit un message dâ€™erreur :</p>
<pre class="git"><code>"Sync Error.  
Please resolve all conflicted files, commit, then try syncing again."</code></pre>
<p>Chaque fichier Ã  la source source dâ€™un conflit a alors Ã©tÃ© automatiquement Ã©ditÃ© comme suit :</p>
<pre class="git"><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
code dans votre version local
=======
code en ligne
&gt;&gt;&gt;&gt;&gt;&gt;&gt; remote</code></pre>
<p>Pour rÃ©soudre le conflit, il faut alors Ã©diter chaque fichier un Ã  un en choisissant sâ€™il faut conserver la version locale ou bien celle en ligne, avant de pouvoir <em>commiter</em> Ã  nouveau et enfin de <em>pusher</em> vos changements avec succÃ¨s.</p>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li>Modifiez le fichier <code>README.Rmd</code> de votre binome, puis <em>commitez</em> votre changement et <em>pushez</em> le.</li>
<li>une fois que votre binÃ´me a modifiÃ© votre <code>README.Rmd</code>, modifiez Ã  votre tour le fichier Ã  la mÃªme ligne, <strong>SANS</strong> <em>puller</em> les changements de votre binÃ´me au prÃ©alable ! <em>Commitez</em> et essayez de <em>pusher</em> ces changements.</li>
<li>RÃ©solvez le conflit.</li>
</ol>
</blockquote>
<p><strong>NB:</strong> Dans la vraie vie, on cherche Ã  Ã©viter cette situation et donc on va toujours <em>puller</em> avant de <em>pusher</em>. Ici, nous faisons volontairement le contraire pour donner un exemple et dÃ©mystifier les conflits.</p>
</div>
<div id="fork" class="section level3" number="2.4.4">
<h3>
<span class="header-section-number">2.4.4</span> <em>Fork</em><a class="anchor" aria-label="anchor" href="#fork"><i class="fas fa-link"></i></a>
</h3>
<p>Lâ€™action <em>fork</em> permet de crÃ©er une copie qui vous appartient Ã  partir dâ€™un code disponible. Ainsi
le code original ne sera pas impactÃ© par vos changements. Cela revient Ã  crÃ©er une branche, et la
sÃ©parer de lâ€™arbre pour pouvoir en assumer la propriÃ©tÃ©. On aurait aussi pu appeler cette action une â€œboutureâ€â€¦</p>
<p>Cette action est principalement utile dans le cadre des <em>pull requests</em>.</p>
</div>
<div id="pull-request" class="section level3" number="2.4.5">
<h3>
<span class="header-section-number">2.4.5</span> <em>Pull request</em><a class="anchor" aria-label="anchor" href="#pull-request"><i class="fas fa-link"></i></a>
</h3>
<p>Il sâ€™agit du moyen le plus facile de proposer des changements dans un code dont vous nâ€™Ãªtes pas
collaborateur. <em>GitHub</em> propose une interface graphique facilitant leur traitement.</p>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Modifiez le <code>README.Rmd</code> de votre voisin qui nâ€™est pas votre binÃ´me aprÃ¨s avoir <em>forkÃ©</em> son
package.</p></li>
<li><p>Proposez votre changement sous la forme dâ€™une <em>pull request</em> depuis lâ€™onglet â€œPull requestsâ€ sur la page <em>GitHub</em> du rÃ©pertoire de votre voisin.</p></li>
<li><p>Acceptez la <em>pull request</em> de votre voisin sur la page <em>GitHub</em> de votre rÃ©pertoire, puis faire le <em>merge</em>.</p></li>
</ol>
</blockquote>
</div>
<div id="issues" class="section level3" number="2.4.6">
<h3>
<span class="header-section-number">2.4.6</span> <em>Issues</em><a class="anchor" aria-label="anchor" href="#issues"><i class="fas fa-link"></i></a>
</h3>
<p>Pour nâ€™importe quel rÃ©pertoire <em>GitHub</em>, vous pouvez poster un commentaire sous forme dâ€™<em>issue</em>
afin dâ€™alerter les dÃ©veloppeurs sur un Ã©ventuel bug, ou une question sur lâ€™utilisation du package,
ou encore demander une fonctionnalitÃ© supplÃ©mentaireâ€¦</p>
<p>Lâ€™idÃ©al est de proposer vous-mÃªme une <em>pull request</em> qui rÃ©sout votre <em>issue</em> lorsque vous
le pouvez (i.e.Â en avez les capacitÃ©s et le temps).</p>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Utilisez <code><a href="https://usethis.r-lib.org/reference/use_github_links.html">usethis::use_github_links()</a></code> afin dâ€™ajouter les 2 lignes suivantes au fichier <code>DESCRIPTION</code> de votre package<br><code>URL: http://github.com/*prenom.nom*/mypkg</code><br><code>BugReports: http://github.com/*prenom.nom*/mypkg/issues</code></p></li>
<li><p>Visualisez les nouveau changements, puis <em>commitez</em> les.</p></li>
<li><p>CrÃ©ez une <em>issue</em> sur le projet de votre binome</p></li>
</ol>
</blockquote>
</div>
</div>
<div id="intÃ©gration-continue" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> IntÃ©gration continue<a class="anchor" aria-label="anchor" href="#int%C3%A9gration-continue"><i class="fas fa-link"></i></a>
</h2>
<p>Ã€ chaque changement, Ã  chaque <em>commit</em> donc, il y a la possibilitÃ© dâ€™introduire 1 (ou plusieurs) bugs qui vont empÃªcher le package de passer le <em>CRAN check</em>. Si lâ€™on accumule trop de ces bugs, au moment de soumettre la nouvelle version, il peut y avoir beaucoup de corrections Ã  apporter. Câ€™est dâ€™autant plus frustrant si le package passait le <em>CRAN check</em> auparavantâ€¦</p>
<p>Les services dâ€™intÃ©gration continue permettent de <em>checker</em> votre package <strong>automatiquement</strong> aprÃ¨s chaque <em>commit</em> ! En cas dâ€™Ã©chec, vous recevez un mail qui vous en informe. Un certain nombre de ces services proposent une offre limitÃ©e gratuite pour les projets open-source.</p>
<p>Une autre raison dâ€™utiliser lâ€™intÃ©gration continue est quâ€™elle permet de tester votre package sur des infrastructures diffÃ©rentes de la votre (e.g.Â Windows, Ubuntu, Mac OS) et pour diffÃ©rentes versions de <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> (<em>current</em>, <em>devel</em>â€¦)</p>
<div id="github-actions" class="section level3" number="2.5.1">
<h3>
<span class="header-section-number">2.5.1</span> <em>GitHub Actions</em><a class="anchor" aria-label="anchor" href="#github-actions"><i class="fas fa-link"></i></a>
</h3>
<p>Les <em>GitHub Actions</em> permettent de lancer des actions automatiquement Ã  chaque fois que vous pushez sur <em>GitHub</em> La commande <code>usethis::use_github_action("check-standard")</code> permet dâ€™initialiser les <em>Github Actions</em>, et dâ€™ajouter lâ€™action <code>R CMD CHECK</code> du package.</p>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Executer la commande <code>usethis::use_github_action("check-standard")</code> et <em>commiter</em> les changements et regardez ce quâ€™il se passe sur la page <em>GitHub</em></p></li>
<li><p>Ajouter un badge Ã  votre README.md grÃ¢ce au code obtenu dans la console <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> et <em>commiter</em> ces changements</p></li>
</ol>
</blockquote>
<p>Nâ€™hÃ©sitez pas Ã  consulter la page suivantes qui renseigne sur les diffÃ©rentes <em>GitHub Actions</em> disponibles pour les pacakges <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> : <a href="https://github.com/r-lib/actions/blob/v2-branch/examples/README.md">https://github.com/r-lib/actions/blob/v2-branch/examples/README.md</a></p>
</div>
</div>
<div id="construire-et-dÃ©ployer-simplement-un-site-web-pour-accompagner-son-package" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> Construire et dÃ©ployer simplement un site web pour accompagner son package<a class="anchor" aria-label="anchor" href="#construire-et-d%C3%A9ployer-simplement-un-site-web-pour-accompagner-son-package"><i class="fas fa-link"></i></a>
</h2>
<p>Le package <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg><code>pkgdown</code> permet de gÃ©nÃ©rer automatiquement un site web attrayant rassemblant la documentation de votre package (y compris les <em>Vignettes</em>).</p>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Executer la commande <code><a href="https://usethis.r-lib.org/reference/use_pkgdown.html">usethis::use_pkgdown()</a></code> dans la console <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg>.</p></li>
<li><p><em>Commiter</em> et <em>pusher</em> les changements. Rendez-vous sur lâ€™onglet <em>Actions</em> de votre rÃ©pertoire sur <em>GitHub</em> et constater les nouveautÃ©s.</p></li>
</ol>
</blockquote>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<p>Examiner les changement du fichier <code>DESCRIPTION</code> suite Ã  lâ€™execution des diffÃ©rentes commandes <code>usethis::use_...</code> prÃ©cedemment.</p>
<p>Modifier le champ <em>URL</em> du fichier <code>DESCRIPTION</code>.</p>
</blockquote>
<div class="float">
<img src="FormationRavancee_dev_perf_files/usethis.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
</div>
<div id="rÃ©fÃ©rences-additionnelles" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> RÃ©fÃ©rences additionnelles<a class="anchor" aria-label="anchor" href="#r%C3%A9f%C3%A9rences-additionnelles"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p><a href="https://happygitwithr.com/"><em>Happy Git With R</em></a> by Jenny Bryan.</p></li>
<li><p>Jennifer Bryan (2018). Excuse Me, Do You Have a Moment to Talk about Version Control? <em>The American Statistician</em> 72 (1):20â€“27.<br><a href="https://doi.org/10.1080/00031305.2017.1399928">DOI: 10.1080/00031305.2017.1399928</a></p></li>
</ul>
</div>
<div id="annexe-2.1-r-hub" class="section level2 unnumbered">
<h2>Annexe 2.1 : R-hub<a class="anchor" aria-label="anchor" href="#annexe-2.1-r-hub"><i class="fas fa-link"></i></a>
</h2>
<p>Le <em>R consortium</em> met Ã  disposition le <a href="https://www.r-consortium.org/blog/2016/06/06/first-public-version-of-the-r-hub-builder">R-hub builder</a>, â€“ et a pour ambition de pouvoir un jour proposer un service dâ€™intÃ©gration continue spÃ©cialement dÃ©diÃ© aux packages <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg>.</p>
<p>R-hub builder utilise exactement la mÃªme infrasrtructure que les serveurs du <code>CRAN</code>, ce qui a lâ€™avantage de pouvoir reproduire exactement le <code>R CMD CHECK</code> tel quâ€™effectuÃ© par le <code>CRAN</code>. Il est possible de lâ€™utiliser grÃ¢ce Ã  la fonction <code><a href="https://devtools.r-lib.org/reference/check_rhub.html">devtools::check_rhub()</a></code>.</p>
</div>
<div id="annexe-2.2-couverture-du-code" class="section level2 unnumbered">
<h2>Annexe 2.2 : couverture du code<a class="anchor" aria-label="anchor" href="#annexe-2.2-couverture-du-code"><i class="fas fa-link"></i></a>
</h2>
<p>Le package <code>covr</code> propose une solution pour mesurer la couverture des tests unitaires associÃ©s Ã  un package. La couverture de test dÃ©termine la proportion du code source qui est effectivement utilisÃ©e lors de lâ€™exÃ©cution des tests unitaires. La mesure de la couverture du code renforce la fiabilitÃ© dâ€™un code et donne confiance Ã  ses utilisateurs potentiels.</p>
<blockquote>
<p><strong><em>ğŸ‘‰ Ã€ vous de jouer !</em></strong></p>
<ol style="list-style-type: decimal">
<li>Executer la commande <code><a href="https://usethis.r-lib.org/reference/use_coverage.html">usethis::use_coverage()</a></code>, ajouter un joli badge Ã  votre README.md grÃ¢ce au code obtenu dans la console <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg>.</li>
</ol>
</blockquote>
<blockquote>
<ol start="2" style="list-style-type: decimal">
<li>
<em>Commiter</em> ces changements.</li>
</ol>
</blockquote>
<p>Pour plus dâ€™information nâ€™hÃ©sitez pas Ã  consulter la <a href="https://cran.r-project.org/web/packages/covr/vignettes/how_it_works.html">vignette</a> de <code>covr</code>.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="construire-un-package.html"><span class="header-section-number">1</span> Construire un package </a></div>
<div class="next"><a href="mesurer-et-comparer-des-temps-dex%C3%A9cution.html"><span class="header-section-number">3</span> Mesurer et comparer des temps dâ€™exÃ©cution</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#contr%C3%B4le-de-version-avec-git-et-github-historique-de-changement-d%C3%A9veloppement-collaboratif-et-int%C3%A9gration-continue"><span class="header-section-number">2</span> ContrÃ´le de version avec git et GitHub: historique de changement, dÃ©veloppement collaboratif et intÃ©gration continue</a></li>
<li>
<a class="nav-link" href="#principe-du-contr%C3%B4le-de-version"><span class="header-section-number">2.1</span> Principe du contrÃ´le de version</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#git"><span class="header-section-number">2.1.1</span> git</a></li>
<li><a class="nav-link" href="#subversion"><span class="header-section-number">2.1.2</span> subversion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#utiliser-git-localement-depuis-rstudio"><span class="header-section-number">2.2</span> Utiliser git localement depuis RStudio</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#bonnes-pratiques-du-commit"><span class="header-section-number">2.2.1</span> Bonnes pratiques du commit</a></li></ul>
</li>
<li>
<a class="nav-link" href="#github"><span class="header-section-number">2.3</span> GitHub</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#mettre-son-package-sur-github"><span class="header-section-number">2.3.1</span> Mettre son package  sur GitHub</a></li></ul>
</li>
<li>
<a class="nav-link" href="#collaboration-pour-la-production-du-code"><span class="header-section-number">2.4</span> Collaboration pour la production du code</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#branches"><span class="header-section-number">2.4.1</span> Branches</a></li>
<li><a class="nav-link" href="#merge"><span class="header-section-number">2.4.2</span> Merge</a></li>
<li><a class="nav-link" href="#les-conflits"><span class="header-section-number">2.4.3</span> Les conflits</a></li>
<li><a class="nav-link" href="#fork"><span class="header-section-number">2.4.4</span> Fork</a></li>
<li><a class="nav-link" href="#pull-request"><span class="header-section-number">2.4.5</span> Pull request</a></li>
<li><a class="nav-link" href="#issues"><span class="header-section-number">2.4.6</span> Issues</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#int%C3%A9gration-continue"><span class="header-section-number">2.5</span> IntÃ©gration continue</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#github-actions"><span class="header-section-number">2.5.1</span> GitHub Actions</a></li></ul>
</li>
<li><a class="nav-link" href="#construire-et-d%C3%A9ployer-simplement-un-site-web-pour-accompagner-son-package"><span class="header-section-number">2.6</span> Construire et dÃ©ployer simplement un site web pour accompagner son package</a></li>
<li><a class="nav-link" href="#r%C3%A9f%C3%A9rences-additionnelles"><span class="header-section-number">2.7</span> RÃ©fÃ©rences additionnelles</a></li>
<li><a class="nav-link" href="#annexe-2.1-r-hub">Annexe 2.1 : R-hub</a></li>
<li><a class="nav-link" href="#annexe-2.2-couverture-du-code">Annexe 2.2 : couverture du code</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Formation <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> avancÃ©e</strong>: <em>Outils de dÃ©veloppement et de performance</em>" was written by <strong><em>Robin Genuer</em></strong> <a href="https://robin.genuer.fr/">ğŸŒ</a> &amp; <strong><em>Boris Hejblum</em></strong> <a href="https://borishejblum.science/">ğŸŒ</a>. It was last built on 2023-09-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
